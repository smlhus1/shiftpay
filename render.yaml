# ShiftPay OCR backend — Render Web Service (Docker)
# Deploy: koble repo i Render Dashboard, eller push til GitHub og "New → Web Service" fra repo.
# Sett env vars i Render: SECRET_SALT, OPENAI_API_KEY (valgfri), ALLOWED_ORIGINS
#
# Verify Settings (hvis UI forlanger stier fra repo-root):
#   Root Directory:                backend
#   Dockerfile Path:               backend/Dockerfile
#   Docker Build Context Directory: backend
#   Docker Command:                (tom)

services:
  - type: web
    runtime: docker
    name: shiftpay-ocr
    rootDir: backend
    dockerfilePath: ./Dockerfile
    dockerContext: .
    healthCheckPath: /health
    envVars:
      - key: ENVIRONMENT
        value: production
      - key: ALLOWED_ORIGINS
        sync: false
        # Sett i Dashboard: https://din-app.onrender.com,http://localhost:8081
      - key: SECRET_SALT
        generateValue: true
      - key: OPENAI_API_KEY
        sync: false
        # Valgfri: legg til i Dashboard for Vision-fallback
